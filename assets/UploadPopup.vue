<script setup>
defineProps({
  modelValue: Boolean,
});

const emit = defineEmits(["update:modelValue", "upload", "createFolder"]);
</script>
<template>
  <div class="popup">
    <Transition name="fade">
      <div
        v-if="modelValue"
        class="popup-modal"
        @click="emit('update:modelValue', false)"
      ></div>
    </Transition>
    <Transition name="slide-up">
      <div v-if="modelValue" class="popup-content">
        <div class="button-grid">
          <button onclick="this.lastElementChild.click()">
            <svg t="1741764978201" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26720" width="25" height="25"><path d="M806.4 849.066667H217.6c-72.533333 0-132.266667-59.733333-132.266667-132.266667V307.2c0-72.533333 59.733333-132.266667 132.266667-132.266667h588.8c72.533333 0 132.266667 59.733333 132.266667 132.266667v409.6c0 72.533333-59.733333 132.266667-132.266667 132.266667zM217.6 243.2c-34.133333 0-64 29.866667-64 64v409.6c0 34.133333 29.866667 64 64 64h588.8c34.133333 0 64-29.866667 64-64V307.2c0-34.133333-29.866667-64-64-64H217.6z" p-id="26721" fill="#2c2c2c"></path><path d="M426.666667 699.733333c-102.4 0-187.733333-85.333333-187.733334-187.733333 0-102.4 85.333333-187.733333 187.733334-187.733333 102.4 0 187.733333 85.333333 187.733333 187.733333 4.266667 102.4-81.066667 187.733333-187.733333 187.733333z m0-311.466666c-68.266667 0-123.733333 55.466667-123.733334 123.733333 0 68.266667 55.466667 123.733333 123.733334 123.733333 68.266667 0 123.733333-55.466667 123.733333-123.733333 0-68.266667-55.466667-123.733333-123.733333-123.733333zM780.8 366.933333h-68.266667c-12.8 0-25.6-12.8-25.6-25.6v-8.533333c0-12.8 12.8-25.6 25.6-25.6h68.266667c12.8 0 25.6 12.8 25.6 25.6V341.333333c0 12.8-12.8 25.6-25.6 25.6z" p-id="26722" fill="#2c2c2c"></path></svg>
            <span>拍照上传</span>
            <input
              type="file"
              accept="image/*"
              capture="camera"
              hidden
              @change="emit('upload', $event.target)"
            />
          </button>
          <button onclick="this.lastElementChild.click()">
            <svg t="1741765077238" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="30472" width="25" height="25"><path d="M259.072 303.104q30.72 0 52.736 22.016t22.016 53.76q0 30.72-22.016 52.736t-52.736 22.016q-31.744 0-53.248-22.016T184.32 378.88q0-31.744 21.504-53.76t53.248-22.016z m605.184-245.76q43.008 0 69.12 28.672t26.112 65.536v550.912q0 23.552-16.896 39.936t-40.448 16.384h-70.656V634.88h44.032q11.264 0 19.456-8.192t8.192-20.48q0-11.264-8.192-19.456t-19.456-8.192h-44.032v-79.872h44.032q11.264 0 19.456-8.192t8.192-19.456-8.192-19.968-19.456-8.704h-44.032v-72.704h44.032q11.264 0 19.456-8.192t8.192-20.48q0-11.264-8.192-19.456t-19.456-8.192h-44.032v-86.016q0-57.344-26.624-80.896t-90.112-23.552h-394.24v-9.216q0-23.552 16.896-39.936t40.448-16.384h486.4zM692.224 184.32q39.936 0 57.856 23.04T768 267.264v565.248q0 23.552-19.456 43.52T700.416 896H128q-24.576 0-44.032-20.48t-19.456-48.128V251.904q0-29.696 16.384-48.64t43.008-18.944h568.32z m11.264 107.52q0-17.408-10.752-30.208t-34.304-12.8H169.984q-4.096 0-11.264 1.536t-14.336 5.12-12.288 9.728-5.12 15.36v274.432q8.192 9.216 23.04 22.016t34.816 23.552 44.544 18.432 53.248 7.68q43.008 0 75.264-13.824t59.904-34.816 54.272-45.056 58.88-45.568 73.728-36.352 98.816-16.896V291.84z" p-id="30473" fill="#2c2c2c"></path></svg>
            <span>图片/视频</span>
            <input
              type="file"
              accept="image/*,video/*"
              multiple
              hidden
              @change="emit('upload', $event.target)"
            />
          </button>
          <button onclick="this.lastElementChild.click()">
            <svg t="1741765138405" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31621" width="25" height="25"><path d="M834.303 352.752L624.215 142.571c-5.588-5.208-12.83-8.648-20.833-8.648H259.056c-21.565 0-40.904 9.022-54.85 23.243-14.498 14.036-23.056 33.466-23.056 54.664v600.251c0 21.287 8.558 41.085 23.056 55.305 13.945 14.046 33.472 22.691 54.85 22.691h505.716c20.813 0 40.343-8.646 54.475-22.501l0.735-0.19v-0.176c14.132-14.506 22.868-33.842 22.868-55.129v-438.32c0-7.62-2.967-14.87-8.547-21.009z m-213.446-130.98l134.247 134.241H652.102c-8.557 0-16.363-3.538-21.758-9.301l-0.75-0.74c-5.379-5.396-8.736-13.204-8.736-21.29v-102.91z m163.8 590.309c0 5.39-2.04 10.318-5.757 14.037-3.728 3.902-8.555 5.761-14.129 5.761H259.056c-5.395 0-10.229-1.858-13.944-5.761-3.53-3.719-5.763-8.647-5.763-14.037V211.83c0-5.12 2.232-10.139 5.763-13.766 3.716-3.716 8.55-6.037 13.944-6.037h326.659v132.655c0 17.573 7.254 33.375 18.599 45.549l1.302 1.307c11.72 12.175 28.447 19.33 46.486 19.33h132.556v421.213z" fill="" p-id="31622"></path><path d="M456.736 551.179H306.729c-9.397 0-17.046 7.87-17.046 17.164v150.111c0 9.289 7.648 16.723 17.046 16.723h150.008c9.396 0 17.156-7.434 17.156-16.723V568.343c0-9.294-7.76-17.164-17.157-17.164z m-17.064 150.108H323.896V585.399h115.776v115.888zM456.736 290.763H306.729c-9.397 0-17.046 7.648-17.046 17.269V457.816c0 9.512 7.648 16.945 17.046 16.945h150.008c9.396 0 17.156-7.434 17.156-16.945V308.031c0-9.62-7.76-17.268-17.157-17.268z m-17.064 149.886H323.896V324.762h115.776v115.887zM506.365 434.089c0 9.401 7.546 17.274 17.057 17.274h193.727c9.398 0 17.167-7.873 17.167-17.274 0-9.402-7.769-17.055-17.167-17.055H523.422a17.01 17.01 0 0 0-17.057 17.055zM717.148 575.016H523.422c-9.511 0-17.057 7.541-17.057 16.943 0 9.296 7.546 17.272 17.057 17.272h193.727c9.398 0 17.167-7.977 17.167-17.272-0.001-9.402-7.769-16.943-17.168-16.943zM717.148 677.453H523.422a17.01 17.01 0 0 0-17.057 17.054c0 9.623 7.546 17.165 17.057 17.165h193.727c9.398 0 17.167-7.542 17.167-17.165-0.001-9.4-7.769-17.054-17.168-17.054z" fill="" p-id="31623"></path></svg>
            <span>其他文件</span>
            <input
              type="file"
              accept="*"
              multiple
              hidden
              @change="emit('upload', $event.target)"
            />
          </button>
          <button type="button" @click="emit('createFolder')">
            <svg t="1741765164914" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32735" width="25" height="25"><path d="M888.93 354.58l-0.07-4.51c-2.44-82.73-70.21-148.53-152.98-148.53H511.76a100.57 100.57 0 0 0-76.26-34.98H288.12c-84.52 0-153.05 68.52-153.05 153.05v384.8c0 84.53 68.52 153.05 153.05 153.05h447.77c84.53 0 153.05-68.52 153.05-153.05V372.86c0-1.22-0.07-2.41-0.21-3.59h0.21v-14.69z m-153.05-91.83l3.78 0.07c44.48 1.83 81.24 35.3 87.23 79.41l-230.41 0.02-2.92-0.11a39.347 39.347 0 0 1-34.18-26.17l-18.79-53.23h195.29z m91.83 441.65c0 50.72-41.1 91.83-91.83 91.83H288.12c-50.72 0-91.83-41.1-91.83-91.83V319.6c0-50.72 41.11-91.83 91.83-91.83H435.5c16.69 0 31.56 10.52 37.12 26.25l29.03 82.33 1.5 3.97c15.3 38.13 52.25 63.12 93.33 63.12h231.23V704.4z" p-id="32736" fill="#2c2c2c"></path><path d="M619.79 570.77c13.02 0.01 23.57 10.57 23.57 23.59-0.01 12.26-9.41 22.47-21.63 23.49l-1.94 0.08H404.21c-13.02-0.01-23.57-10.57-23.57-23.59 0.01-12.26 9.41-22.47 21.63-23.49l1.94-0.08h215.58z" p-id="32737" fill="#2c2c2c"></path><path d="M488.42 486.56c0.01-13.02 10.57-23.57 23.59-23.57 12.26 0.01 22.47 9.41 23.49 21.63l0.08 1.94v215.58c-0.01 13.02-10.57 23.57-23.59 23.57-12.26-0.01-22.47-9.41-23.49-21.63l-0.08-1.94V486.56z" p-id="32738" fill="#2c2c2c"></path></svg>
            <span>新建文件夹</span>
          </button>
        </div>
      </div>
    </Transition>
  </div>
</template>

<style>
.popup-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 3;
  background-color: rgba(0, 0, 0, 0.2);
}

.popup-content {
    position: fixed;
    right: 30px;
    bottom: 80px;
    width: 200px;
    z-index: 4;
    border-radius: 12px;
    background-color: white;
}

.popup .button-grid {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  grid-gap: 8px;
  padding: 8px;
}

.popup button {
  border-radius: 8px;
  display: flex;
  flex-direction: row;
  align-items: center;
  text-align: center;
  font-size: 17px;
  transition: background-color 0.3s;
}

.popup button:hover {
  background-color: #f5f5f5;
}

.popup svg {
  width: 25px;
  height: 25px;
  margin: 8px 12px 8px 8px;
}
</style>
